# 現代のCI/CDテスト チェックリスト

CI/CDパイプラインで一般的に「するべき」とされるテスト項目の一覧です。
プロジェクトの規模や特性によって、優先順位は変わります。

---

## 1. ビルド＆静的解析フェーズ (Pushごと)
コードを保存（Push）するたびに、まず「コードそのもの」の品質をチェックします。

* **① ビルドの成功確認**
    * （必須）ソースコードが、実行可能なプログラムやファイルに正しく変換（ビルド）できるか。
* **② コード品質チェック (Lint / 静的解析)**
    * （必須）文法エラーや、チームのコーディング規約（書き方のルール）違反がないか。
* **③ 単体テスト (Unit Test)**
    * （必須）関数やコンポーネントといった「最小単位の部品」が、個別に正しく動作するか。

## 2. セキュリティスキャンフェーズ
コードや使用している部品に「既知の危険」がないかスキャンします。

* **④ 脆弱性スキャン (SAST)**
    * （強く推奨）パスワード直書き込みなど、コードに潜むセキュリティ上の危険な書き方がないか。
* **⑤ 依存関係スキャン (SCA)**
    * （強く推奨）利用している外部ライブラリ（部品）に、既知の脆弱性（セキュリティホール）がないか。

## 3. 結合・E2Eテストフェーズ (Pull Request作成時など)
ビルドとスキャンを通過したコードを、実際に「動かして」連携を確認します。

* **⑥ 結合テスト (Integration Test)**
    * （推奨）複数の部品を組み合わせたとき（例：DBとロジック）に、正しく連携するか。
* **⑦ APIテスト**
    * （推奨）自ら提供するAPI、または利用する外部APIとの連携が正しく動作するか。
    * 期待通りのレスポンス（データやステータスコード）が返ってくるか。
* **⑧ E2Eテスト (End-to-End Test)**
    * （推奨）実際のユーザー操作（ログイン→購入など）をシミュレートし、全体の流れが壊れていないか。

## 4. (オプション) 高度なテスト
リリース直前や、夜間バッチなどで実行される、より高度なテストです。

* **⑨ パフォーマンステスト**
    * 今回の変更で、極端に動作が遅くなっていないか（速度低下の検知）。
* **⑩ コンテナイメージスキャン**
    * （Dockerなどを使う場合）ビルドしたコンテナイメージ自体に脆弱性がないか。

---

### どこから始めるか？

もしこれから始める場合、まずは「**① ビルド**」「**③ 単体テスト**」「**② Lint**」の3つを自動化するだけでも、開発品質は劇的に向上します。